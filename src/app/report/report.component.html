<mat-toolbar color="primary">
  <button mat-icon-button (click)="drawer.toggle()" class="example-icon"
    aria-label="Example icon-button with menu icon">
    <mat-icon>menu</mat-icon>
  </button>
  <span>Contabilit√† Personale</span>
  <span class="example-spacer"></span>
  <button mat-icon-button routerLink="/home">
    <mat-icon>home</mat-icon>
  </button>
  <a mat-raised-button href="/.auth/logout">
    Logout
    <mat-icon>logout</mat-icon>
</a>
</mat-toolbar>

<mat-drawer-container class="example-container" autosize>

  <mat-drawer #drawer class="example-sidenav" mode="side">
    <a mat-flat-button routerLink="/home" style="margin-top: 8%;">
      <mat-icon>home</mat-icon>
      Home
    </a>
    <mat-divider></mat-divider>
    <a mat-flat-button routerLink="/report" style="margin-top: 8%;">
      <mat-icon>donut_small</mat-icon>
      Report
    </a>
  </mat-drawer>

  <div>
    <mat-grid-list cols="3" rowHeight="370px">
      <mat-grid-tile>
        <canvas baseChart [datasets]="doughnutChartData" [labels]="doughnutChartLabels" [options]="doughnutChartOptions"
          [legend]="doughnutChartLegend" [type]="doughnutChartType">
        </canvas>
      </mat-grid-tile>
      <mat-grid-tile>
        <canvas baseChart [datasets]="pieChartData" [labels]="pieChartLabels" [options]="pieChartOptions"
          [legend]="pieChartLegend" [type]="pieChartType">
        </canvas>
      </mat-grid-tile>
      <mat-grid-tile>
        <canvas baseChart [datasets]="polarChartData" [labels]="polarChartLabels" [options]="polarChartOptions"
          [legend]="polarChartLegend" [type]="polarChartType">
        </canvas>
      </mat-grid-tile>
    </mat-grid-list>
    <div class="grid-container">
      <mat-grid-list cols="3" rowHeight="180px">
        <mat-grid-tile>
          <div>
            <h2>Seleziona la categoria</h2>
            <mat-form-field appearance="outline" floatLabel="always">
              <mat-label>Categoria</mat-label>
              <mat-select [(value)]="currentCat">
                <mat-option *ngFor="let cat of categorie" [value]="cat">{{cat}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </mat-grid-tile>
        <mat-grid-tile>
          <div>
            <h2>Seleziona l'anno</h2>
            <mat-form-field appearance="outline">
              <mat-label>Anno</mat-label>
              <input [formControl]="anno" type="number" matInput placeholder="Anno">
            </mat-form-field>
          </div>
        </mat-grid-tile>
        <mat-grid-tile>
          <div>
            <h2>Importo massimo</h2>
            <mat-form-field appearance="outline">
              <mat-label>Importo massimo</mat-label>
              <input [formControl]="przMax" type="number" matInput placeholder="Importo">
            </mat-form-field>
            <button mat-raised-button (click)="ricercaConFiltri()" color="warn" style="margin-left: 8px;">CERCA</button>
          </div>
        </mat-grid-tile>
      </mat-grid-list>
    </div>

    <div class="row">
      <div class="col-md-3 mb-4" *ngFor="let documento of pageSlice;">
        <div class="text-center card-content">
          <img class="card-img-top custom-img" [src]="selezionaImm(documento.id)">
          <h3 class="fw-bolder" style="color: rgb(99, 99, 99);">{{documento.id | uppercase}}</h3>
          <h4 class="fw-bolder">Anno: {{documento.anno}}</h4>
          <h4 class="fw-bolder">Importo: {{documento.importo | currency}}</h4>
          <h4 class="fw-bolder">Tag: {{documento.tag}}</h4>
          <button mat-raised-button color="primary" (click)="downloadBlobs(documento.id)">
            Download
            <mat-icon>cloud_download</mat-icon>
          </button>
        </div>
      </div>
      <mat-paginator class="pagination-container" [length]="this.retRicerca.length" [pageSize]="4"
        [pageSizeOptions]="[4,8,12]" (page)="this.onPageChange($event)">
      </mat-paginator>
  </div>
  </div>

</mat-drawer-container>